"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[684],{3684:function(e,t,a){a.r(t),a.d(t,{default:function(){return W}});var r=a(3433),n=a(5861),s=a(9439),o=a(7757),c=a.n(o),i=a(4414),l=a(4863),u=a(7689),h=a(1087),m=a(2782),v="MoviesSearch_movieSearchCont__e+1Rp",_="MoviesSearch_movieSearchList__Pa4k3",d="MoviesSearch_movieSearchLink__aVWii",f="MoviesSearch_movieSearchImgCont__mp34M",p="MoviesSearch_movieSearchImg__WHNHd",S="MoviesSearch_movieSearchInfoCont__2sdwE",x="MoviesSearch_movieSearchTitle__nrdY2",N="MoviesSearch_movieSearchDate__zZXS6",j=a(184);var g=function(e){var t=e.movies,a=e.path,r=void 0===a?"":a,n=(0,u.TH)();return(0,j.jsx)("div",{className:v,children:(0,j.jsx)("ul",{className:_,children:t.map((function(e){var t=e.id,a=e.title,s=e.poster_path,o=e.release_date,c=a.length<45?a:"".concat(a.slice(0,45),"..."),i=(0,l.N)(o);return(0,j.jsx)("li",{className:_,children:(0,j.jsxs)(h.rU,{className:d,to:"".concat(r).concat(t),state:{from:n},children:[(0,j.jsx)("div",{className:f,children:(0,j.jsx)("img",{className:p,src:s?"https://image.tmdb.org/t/p/w300/".concat(s):"".concat(m),alt:a})}),(0,j.jsxs)("div",{className:S,children:[(0,j.jsx)("h2",{className:x,children:c}),(0,j.jsx)("p",{className:N,children:o&&i})]})]})},t)}))})})},b="Movies_buttonCont__ErXkf",w="Movies_loadMore__BPGuv",y=a(2791),C=a(5667),k=a(9135),M="ScrollTop_toTop__oC5k7",Z="ScrollTop_butToTop__ThDn8",T=C.animateScroll;function E(){var e=(0,y.useState)(!1),t=(0,s.Z)(e,2),a=t[0],r=t[1];return(0,y.useEffect)((function(){var e=function(){return window.scrollY>100?r(!0):r(!1)};return window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}}),[]),a&&(0,j.jsx)("div",{className:M,children:(0,j.jsx)("button",{className:Z,onClick:function(){return T.scrollToTop()},children:(0,j.jsx)(k.ZTc,{})})})}var L=a(1686),B=a.n(L),I="SeachBar_seachCont__W3asI",X="SeachBar_seachForm__5ipyX",D="SeachBar_seachInput__QeHgm",H="SeachBar_seachButton__QXg0s";var q=function(e){var t=e.onSubmit,a=e.isLoading,r=(0,y.useState)(""),n=(0,s.Z)(r,2),o=n[0],c=n[1];return(0,j.jsx)("div",{className:I,children:(0,j.jsxs)("form",{className:X,onSubmit:function(e){e.preventDefault(),""!==o.trim()?(t(o),c(""),B().Notify.success("Movie ist load....enjoy))")):B().Notify.failure("Please enter something to search...")},children:[(0,j.jsx)("input",{name:"query",type:"text",value:o,onChange:function(e){return c(e.target.value)},placeholder:"Search movies",autoComplete:"off",autoFocus:!0,className:D}),(0,j.jsx)("button",{className:H,type:"submit",disabled:a,children:"Search"})]})})},P=a(8823),R=a(5667).animateScroll;function W(){var e,t=(0,y.useState)([]),a=(0,s.Z)(t,2),o=a[0],l=a[1],u=(0,y.useState)(1),m=(0,s.Z)(u,2),v=m[0],_=m[1],d=(0,y.useState)(0),f=(0,s.Z)(d,2),p=f[0],S=f[1],x=(0,y.useState)(!1),N=(0,s.Z)(x,2),C=N[0],k=N[1],M=(0,y.useState)(!1),Z=(0,s.Z)(M,2),T=Z[0],L=Z[1],I=(0,h.lr)(),X=(0,s.Z)(I,2),D=X[0],H=X[1],W=null!==(e=D.get("query"))&&void 0!==e?e:"";return(0,y.useEffect)((function(){var e=new AbortController,t=e.signal,a=function(){var e=(0,n.Z)(c().mark((function e(a,n){var s,o,i,u;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,k(!0),s=a.toLowerCase().trim(),e.next=5,(0,P.XT)(s,t,n);case 5:if(o=e.sent,i=o.results,u=o.total_pages,i.length||!s){e.next=12;break}return B().Notify.failure("No movies found"),H({}),e.abrupt("return");case 12:l((function(e){return[].concat((0,r.Z)(e),(0,r.Z)(i))})),S(u),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),"ERR_CANCELED"!==e.t0.code&&L(!0);case 19:return e.prev=19,k(!1),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[0,16,19,22]])})));return function(t,a){return e.apply(this,arguments)}}();return W&&a(W,v),function(){e.abort()}}),[W,H,v]),(0,j.jsxs)("div",{children:[(0,j.jsx)(q,{onSubmit:function(e){W!==e?(H(e?{query:e}:{}),l([]),L(!1),_(1)):B().Notify.failure("You are already searching - ".concat(e))},value:W,isLoading:C}),o.length>0&&(0,j.jsxs)("div",{className:b,children:[(0,j.jsx)(g,{movies:o}),v!==p&&(0,j.jsx)("button",{className:w,type:"button",onClick:function(){_((function(e){return e+1})),R.scrollMore(350)},disabled:!!C,children:"Load more"}),(0,j.jsx)(E,{})]}),C&&(0,j.jsx)(i.Z,{}),T&&B().Notify.failure("Oops, something went wrong...Try again later!")]})}}}]);
//# sourceMappingURL=684.32743e1b.chunk.js.map